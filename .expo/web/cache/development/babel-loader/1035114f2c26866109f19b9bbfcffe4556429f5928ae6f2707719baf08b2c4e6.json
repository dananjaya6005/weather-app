{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useState, useEffect } from 'react';\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport BlurCard from \"./component/BlurCard\";\nimport * as Location from 'expo-location';\nimport axios from 'axios';\nimport Smallcard from \"./component/Smallcard\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function App() {\n  var API_KEY = '3wmxaxmd2x54p56rs467iequnoewar3uqcgm53yaa2cfsvjny4ra';\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    location = _useState2[0],\n    setLocation = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    errorMsg = _useState4[0],\n    setErrorMsg = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    info = _useState6[0],\n    setInfo = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    address = _useState8[0],\n    setAddress = _useState8[1];\n  var Bg = require(\"./Images/day-blur.png\");\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n        status = _yield$Location$reque.status;\n      if (status !== 'granted') {\n        setErrorMsg('Permission to access location was denied');\n        return;\n      }\n      var location = yield Location.getCurrentPositionAsync({});\n      setLocation(location);\n      console.log(location);\n    })();\n  }, []);\n  useEffect(function () {\n    if (location) {\n      _asyncToGenerator(function* () {\n        try {\n          var result = yield Location.reverseGeocodeAsync({\n            latitude: location.coords.latitude,\n            longitude: location.coords.longitude\n          });\n          setAddress(\"\" + result[0].name);\n          console.log(result);\n        } catch (e) {\n          console.log(e);\n        }\n      })();\n    }\n  }, [location]);\n  useEffect(function () {\n    if (address) {\n      getWeatherApi(address);\n    }\n  }, [address]);\n  function getWeatherApi(address) {\n    axios.get(\"https://api.weatherapi.com/v1/forecast.json?key=df531219f26d48ba8f571441232103&q=\" + address + \"&days=7&aqi=no&alerts=no\\n    \").then(function (response) {\n      setInfo(response.data);\n      console.log(response.data);\n    }).catch(function (error) {\n      console.error(error);\n    });\n  }\n  var latitude = null;\n  var longitude = null;\n  if (errorMsg) {} else if (location) {\n    latitude = location.coords.latitude;\n    longitude = location.coords.longitude;\n  }\n  return _jsx(ImageBackground, {\n    source: Bg,\n    style: styles.Bg,\n    children: _jsx(SafeAreaView, {\n      children: _jsxs(View, {\n        style: styles.container,\n        children: [_jsx(BlurCard, {\n          head_location: address,\n          temp: info == null ? void 0 : info.current.temp_c,\n          main_state: info == null ? void 0 : info.current.condition.text,\n          code: info == null ? void 0 : info.current.condition.code,\n          is_day: info == null ? void 0 : info.current.is_day,\n          feelslike_c: info == null ? void 0 : info.current.feelslike_c,\n          wind_kph: info == null ? void 0 : info.current.wind_kph,\n          last_updated: info == null ? void 0 : info.current.last_updated,\n          head_location: info == null ? void 0 : info.location.name,\n          region: info == null ? void 0 : info.location.region,\n          country: info == null ? void 0 : info.location.country\n        }), _jsx(FlatList, {\n          data: info == null ? void 0 : info.forecast.forecastday,\n          showsVerticalScrollIndicator: false,\n          style: {\n            height: 200\n          },\n          keyExtractor: function keyExtractor(item, index) {\n            return 'key' + index;\n          },\n          renderItem: function renderItem(_ref3) {\n            var item = _ref3.item;\n            return _jsx(Smallcard, {\n              items: item\n            });\n          }\n        })]\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  Bg: {\n    flex: 1,\n    resizeMode: \"cover\"\n  }\n});","map":{"version":3,"names":["useState","useEffect","ImageBackground","SafeAreaView","StyleSheet","View","FlatList","BlurCard","Location","axios","Smallcard","jsx","_jsx","jsxs","_jsxs","App","API_KEY","_useState","_useState2","_slicedToArray","location","setLocation","_useState3","_useState4","errorMsg","setErrorMsg","_useState5","_useState6","info","setInfo","_useState7","_useState8","address","setAddress","Bg","require","_asyncToGenerator","_yield$Location$reque","requestForegroundPermissionsAsync","status","getCurrentPositionAsync","console","log","result","reverseGeocodeAsync","latitude","coords","longitude","name","e","getWeatherApi","get","then","response","data","catch","error","source","style","styles","children","container","head_location","temp","current","temp_c","main_state","condition","text","code","is_day","feelslike_c","wind_kph","last_updated","region","country","forecast","forecastday","showsVerticalScrollIndicator","height","keyExtractor","item","index","renderItem","_ref3","items","create","justifyContent","alignItems","flex","resizeMode"],"sources":["D:/Myprojects/weather-app/App.tsx"],"sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport { useState,useEffect } from 'react';\nimport { ImageBackground, SafeAreaView, StyleSheet, Text, View,Image,FlatList } from 'react-native';\nimport GlobalStyles from './GlobalStyles';\nimport BlurCard from './component/BlurCard'\nimport * as Location from 'expo-location';\nimport axios from 'axios';\n\nimport Smallcard from './component/Smallcard';\n\n\nexport default function App() {\n\n  const API_KEY = '3wmxaxmd2x54p56rs467iequnoewar3uqcgm53yaa2cfsvjny4ra';\n  const [location, setLocation] = useState(null);\n  const [errorMsg, setErrorMsg] = useState(null);\n  const[info,setInfo] = useState(null);\n  const [address, setAddress] = useState(null);\n\n  const Bg = require(\"./Images/day-blur.png\");\n\n  \n  useEffect(() => {\n    (async () => {\n      let { status } = await Location.requestForegroundPermissionsAsync();\n      if (status !== 'granted') {\n        setErrorMsg('Permission to access location was denied');\n        return;\n      }\n\n      let location = await Location.getCurrentPositionAsync({});\n      setLocation(location);\n      console.log(location);\n\n      // if (location) {\n      //   getWeatherApi(address);\n      // }\n    })();\n\n  }, []);\n\n  useEffect(() => {\n    if (location) {\n      (async () => {\n        try {\n          let result = await Location.reverseGeocodeAsync({\n            latitude: location.coords.latitude,\n            longitude: location.coords.longitude\n          });\n          setAddress(`${result[0].name}`);\n          console.log(result);\n        } catch (e) {\n          console.log(e);\n        }\n      })();\n    }\n\n    // if(address){\n    //   getWeatherApi(address)\n    // }\n\n  }, [location]);\n\n\n  useEffect(()=>{\n    if(address){\n      getWeatherApi(address)\n    }\n\n  },[address])\n\n\n\n  function getWeatherApi(address){\n    axios.get(`https://api.weatherapi.com/v1/forecast.json?key=df531219f26d48ba8f571441232103&q=${address}&days=7&aqi=no&alerts=no\n    `)\n    .then(function(response){\n        setInfo(response.data)\n        console.log(response.data)\n    })\n    .catch(function(error){\n        console.error(error);\n    })\n  }\n  let latitude = null;\n  let longitude = null;\n\n  if (errorMsg) {\n    // handle error message\n  } else if (location) {\n    latitude = location.coords.latitude;\n    longitude = location.coords.longitude;\n  }\n\n  return (\n\n     <ImageBackground source={Bg} style={styles.Bg}>\n        <SafeAreaView > \n            <View style={styles.container}>\n            <BlurCard \n            head_location= {address}\n            temp={info?.current.temp_c} \n\n            main_state={info?.current.condition.text}\n            code={info?.current.condition.code}\n            is_day={info?.current.is_day}\n            feelslike_c= {info?.current.feelslike_c}\n            wind_kph={info?.current.wind_kph}\n            last_updated={info?.current.last_updated}\n            head_location={info?.location.name}\n            region={info?.location.region}\n            country={info?.location.country}\n            />\n\n\n\n    \n          \n          <FlatList \n          data={info?.forecast.forecastday}\n          showsVerticalScrollIndicator={false}\n          style={{ height: 200 }}\n\n          keyExtractor={(item , index) => 'key' + index}\n          renderItem={({item}) => <Smallcard items={item}/>}\n\n     \n        />\n  \n          \n\n\n        </View>\n\n\n        </SafeAreaView>\n      </ImageBackground>\n\n    \n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n   \n    justifyContent:'center',\n    alignItems:'center'\n  },\n  Bg:{\n    flex:1,\n    resizeMode:\"cover\"\n  }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}